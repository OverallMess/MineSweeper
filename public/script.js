(()=>{"use strict";var __webpack_modules__={607:()=>{eval("\nvar _a;\nlet toggle = false;\n(_a = document.getElementById('toggle-bombs')) === null || _a === void 0 ? void 0 : _a.addEventListener('click', e => {\n    toggle = !toggle;\n    if (toggle)\n        revealBombs();\n    else\n        hideBombs();\n});\nconst board = document.querySelector('.board');\nlet buttons = [];\ndocument.addEventListener('DOMContentLoaded', () => {\n    initBoard();\n    getButtonReferences();\n    initBombs(5);\n    board.addEventListener('click', handleButtonClick);\n    board.addEventListener('contextmenu', handleRightClick);\n});\nfunction getButtonReferences() {\n    buttons = Array.from(board.querySelectorAll('.block'));\n}\nfunction initBoard() {\n    let output = '';\n    for (let i = 0; i < 100; ++i)\n        output += `\n          <div data-id=${i} class=\"block\"></div>\n        `;\n    board.innerHTML = output;\n}\nfunction initBombs(n) {\n    for (let i = 0; i < n; ++i) {\n        const rand = getRandomInt(0, 99);\n        buttons[rand].setAttribute('data-bomb', 'true');\n        buttons[rand].classList.add('bomb');\n    }\n}\nfunction handleRightClick(e) {\n    e.preventDefault();\n    const target = e.target;\n    if (!target.classList.contains('block'))\n        return;\n    if (target.dataset.flag) {\n        target.removeAttribute('data-flag');\n        target.classList.remove('flag');\n        target.textContent = '';\n    }\n    else {\n        target.setAttribute('data-flag', 'true');\n        target.classList.add('flag');\n        target.textContent = 'F';\n    }\n}\nfunction handleButtonClick(e) {\n    const target = e.target;\n    if (!target.classList.contains('block'))\n        return;\n    if (target.dataset.flag) {\n        return;\n    }\n    if (checkIfTargetIsBomb(target)) {\n        handleGameOver();\n        console.log('GAME OVER');\n        return;\n    }\n    checkSurroundingBlocks(target);\n    if (checkIfWon()) {\n        revealBombs();\n        alert('YOU HAVE WON!');\n        return;\n    }\n}\nfunction checkSurroundingBlocks(block) {\n    const surroundingBlocks = getSurroundingBlocks(block);\n    block.classList.add('marked');\n    const numBombs = countBombs(surroundingBlocks);\n    if (numBombs > 0) {\n        block.classList.add('bomb-near-by');\n        block.textContent = String(numBombs);\n        return;\n    }\n    block.classList.add('no-bomb');\n    Array.from(surroundingBlocks).forEach((bl) => {\n        checkSurroundingBlocks(bl);\n    });\n}\nfunction checkIfTargetIsBomb(target) {\n    if (target.dataset.bomb)\n        return true;\n    return false;\n}\nfunction getSurroundingBlocks(block) {\n    const blockCoord = parseInt(block.dataset.id);\n    const coords = [];\n    let offset = -10;\n    if (endsWith(blockCoord, 0)) {\n        checkValidCoord(coords, blockCoord - 10);\n        checkValidCoord(coords, blockCoord - 10 + 1);\n        checkValidCoord(coords, blockCoord + 1);\n        checkValidCoord(coords, blockCoord + 10 + 1);\n        checkValidCoord(coords, blockCoord + 10);\n    }\n    else if (endsWith(blockCoord, 9)) {\n        checkValidCoord(coords, blockCoord - 10);\n        checkValidCoord(coords, blockCoord - 10 - 1);\n        checkValidCoord(coords, blockCoord - 1);\n        checkValidCoord(coords, blockCoord + 10 - 1);\n        checkValidCoord(coords, blockCoord + 10);\n    }\n    else if (startsWith(blockCoord, 9)) {\n        checkValidCoord(coords, blockCoord - 1);\n        checkValidCoord(coords, blockCoord - 10 - 1);\n        checkValidCoord(coords, blockCoord - 10);\n        checkValidCoord(coords, blockCoord - 10 + 1);\n        checkValidCoord(coords, blockCoord + 1);\n    }\n    else if ((startsWith(blockCoord, 9), endsWith(blockCoord, 0))) {\n        checkValidCoord(coords, blockCoord - 10);\n        checkValidCoord(coords, blockCoord - 10 + 1);\n        checkValidCoord(coords, blockCoord + 1);\n    }\n    else if ((startsWith(blockCoord, 9), endsWith(blockCoord, 9))) {\n        checkValidCoord(coords, blockCoord - 1);\n        checkValidCoord(coords, blockCoord - 10 - 1);\n        checkValidCoord(coords, blockCoord - 10);\n    }\n    else if (endsWith(blockCoord, 9)) {\n        checkValidCoord(coords, blockCoord - 10);\n        checkValidCoord(coords, blockCoord - 10 - 1);\n        checkValidCoord(coords, blockCoord - 1);\n        checkValidCoord(coords, blockCoord + 10 - 1);\n        checkValidCoord(coords, blockCoord + 10);\n    }\n    else {\n        for (let i = 0; i < 3; ++i) {\n            for (let j = -1; j < 2; ++j) {\n                const coord = blockCoord + offset + j;\n                if (coord >= 0 && coord <= 99) {\n                    if (!Array.from(buttons[coord].classList).includes('marked'))\n                        coords.push(coord);\n                }\n            }\n            offset += 10;\n        }\n    }\n    return findCorrespondingBlocks(coords);\n}\nfunction checkValidCoord(coords, coord) {\n    if (coord >= 0 && coord <= 99) {\n        if (!Array.from(buttons[coord].classList).includes('marked'))\n            coords.push(coord);\n    }\n}\nfunction countBombs(blocks) {\n    let num = 0;\n    Array.from(blocks).forEach((block) => {\n        if (checkIfTargetIsBomb(block))\n            ++num;\n    });\n    return num;\n}\nfunction checkIfBlocksAreBombs(blocks) {\n    const numBombs = countBombs(blocks);\n    if (numBombs > 0) {\n        return numBombs;\n    }\n    for (let block of blocks) {\n        const anotherBlocks = getSurroundingBlocks(block);\n        checkIfBlocksAreBombs(anotherBlocks);\n    }\n}\nfunction findCorrespondingBlocks(coords) {\n    const blocks = [];\n    buttons.forEach((btn) => {\n        coords.forEach((crd) => {\n            if (parseInt(btn.dataset.id) === crd)\n                blocks.push(btn);\n        });\n    });\n    return blocks;\n}\nfunction handleGameOver() {\n    board.removeEventListener('click', handleButtonClick);\n    revealBombs();\n}\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\nfunction endsWith(num1, num2) {\n    if (num1 % 10 === num2)\n        return true;\n    return false;\n}\nfunction startsWith(num1, num2) {\n    if (Math.floor(num1 / 10) === num2)\n        return true;\n    return false;\n}\nfunction checkIfWon() {\n    let over = true;\n    buttons.forEach((button) => {\n        if (!button.dataset.bomb) {\n            over = over && button.classList.contains('marked');\n        }\n    });\n    return over;\n}\nfunction revealBombs() {\n    buttons.forEach((button) => {\n        if (button.dataset.bomb) {\n            button.style.backgroundColor = '#8f23238e';\n        }\n    });\n}\nfunction hideBombs() {\n    buttons.forEach((button) => {\n        if (button.dataset.bomb) {\n            button.style.backgroundColor = '#2e42585e';\n        }\n    });\n}\n// test(90);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA3LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBLHlCQUF5QixHQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQiw2QkFBNkIsT0FBTztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2luZGV4LnRzP2U5NGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX2E7XG5sZXQgdG9nZ2xlID0gZmFsc2U7XG4oX2EgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWJvbWJzJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIHRvZ2dsZSA9ICF0b2dnbGU7XG4gICAgaWYgKHRvZ2dsZSlcbiAgICAgICAgcmV2ZWFsQm9tYnMoKTtcbiAgICBlbHNlXG4gICAgICAgIGhpZGVCb21icygpO1xufSk7XG5jb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib2FyZCcpO1xubGV0IGJ1dHRvbnMgPSBbXTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgaW5pdEJvYXJkKCk7XG4gICAgZ2V0QnV0dG9uUmVmZXJlbmNlcygpO1xuICAgIGluaXRCb21icyg1KTtcbiAgICBib2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUJ1dHRvbkNsaWNrKTtcbiAgICBib2FyZC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGhhbmRsZVJpZ2h0Q2xpY2spO1xufSk7XG5mdW5jdGlvbiBnZXRCdXR0b25SZWZlcmVuY2VzKCkge1xuICAgIGJ1dHRvbnMgPSBBcnJheS5mcm9tKGJvYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ibG9jaycpKTtcbn1cbmZ1bmN0aW9uIGluaXRCb2FyZCgpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAgICAgICAgb3V0cHV0ICs9IGBcbiAgICAgICAgICA8ZGl2IGRhdGEtaWQ9JHtpfSBjbGFzcz1cImJsb2NrXCI+PC9kaXY+XG4gICAgICAgIGA7XG4gICAgYm9hcmQuaW5uZXJIVE1MID0gb3V0cHV0O1xufVxuZnVuY3Rpb24gaW5pdEJvbWJzKG4pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBjb25zdCByYW5kID0gZ2V0UmFuZG9tSW50KDAsIDk5KTtcbiAgICAgICAgYnV0dG9uc1tyYW5kXS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYm9tYicsICd0cnVlJyk7XG4gICAgICAgIGJ1dHRvbnNbcmFuZF0uY2xhc3NMaXN0LmFkZCgnYm9tYicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZVJpZ2h0Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrJykpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAodGFyZ2V0LmRhdGFzZXQuZmxhZykge1xuICAgICAgICB0YXJnZXQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWZsYWcnKTtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2ZsYWcnKTtcbiAgICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gJyc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLWZsYWcnLCAndHJ1ZScpO1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnZmxhZycpO1xuICAgICAgICB0YXJnZXQudGV4dENvbnRlbnQgPSAnRic7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFuZGxlQnV0dG9uQ2xpY2soZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2snKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0YXJnZXQuZGF0YXNldC5mbGFnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNoZWNrSWZUYXJnZXRJc0JvbWIodGFyZ2V0KSkge1xuICAgICAgICBoYW5kbGVHYW1lT3ZlcigpO1xuICAgICAgICBjb25zb2xlLmxvZygnR0FNRSBPVkVSJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hlY2tTdXJyb3VuZGluZ0Jsb2Nrcyh0YXJnZXQpO1xuICAgIGlmIChjaGVja0lmV29uKCkpIHtcbiAgICAgICAgcmV2ZWFsQm9tYnMoKTtcbiAgICAgICAgYWxlcnQoJ1lPVSBIQVZFIFdPTiEnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrU3Vycm91bmRpbmdCbG9ja3MoYmxvY2spIHtcbiAgICBjb25zdCBzdXJyb3VuZGluZ0Jsb2NrcyA9IGdldFN1cnJvdW5kaW5nQmxvY2tzKGJsb2NrKTtcbiAgICBibG9jay5jbGFzc0xpc3QuYWRkKCdtYXJrZWQnKTtcbiAgICBjb25zdCBudW1Cb21icyA9IGNvdW50Qm9tYnMoc3Vycm91bmRpbmdCbG9ja3MpO1xuICAgIGlmIChudW1Cb21icyA+IDApIHtcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LmFkZCgnYm9tYi1uZWFyLWJ5Jyk7XG4gICAgICAgIGJsb2NrLnRleHRDb250ZW50ID0gU3RyaW5nKG51bUJvbWJzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBibG9jay5jbGFzc0xpc3QuYWRkKCduby1ib21iJyk7XG4gICAgQXJyYXkuZnJvbShzdXJyb3VuZGluZ0Jsb2NrcykuZm9yRWFjaCgoYmwpID0+IHtcbiAgICAgICAgY2hlY2tTdXJyb3VuZGluZ0Jsb2NrcyhibCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjaGVja0lmVGFyZ2V0SXNCb21iKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuZGF0YXNldC5ib21iKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRTdXJyb3VuZGluZ0Jsb2NrcyhibG9jaykge1xuICAgIGNvbnN0IGJsb2NrQ29vcmQgPSBwYXJzZUludChibG9jay5kYXRhc2V0LmlkKTtcbiAgICBjb25zdCBjb29yZHMgPSBbXTtcbiAgICBsZXQgb2Zmc2V0ID0gLTEwO1xuICAgIGlmIChlbmRzV2l0aChibG9ja0Nvb3JkLCAwKSkge1xuICAgICAgICBjaGVja1ZhbGlkQ29vcmQoY29vcmRzLCBibG9ja0Nvb3JkIC0gMTApO1xuICAgICAgICBjaGVja1ZhbGlkQ29vcmQoY29vcmRzLCBibG9ja0Nvb3JkIC0gMTAgKyAxKTtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCArIDEpO1xuICAgICAgICBjaGVja1ZhbGlkQ29vcmQoY29vcmRzLCBibG9ja0Nvb3JkICsgMTAgKyAxKTtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCArIDEwKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZW5kc1dpdGgoYmxvY2tDb29yZCwgOSkpIHtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCAtIDEwKTtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCAtIDEwIC0gMSk7XG4gICAgICAgIGNoZWNrVmFsaWRDb29yZChjb29yZHMsIGJsb2NrQ29vcmQgLSAxKTtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCArIDEwIC0gMSk7XG4gICAgICAgIGNoZWNrVmFsaWRDb29yZChjb29yZHMsIGJsb2NrQ29vcmQgKyAxMCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0YXJ0c1dpdGgoYmxvY2tDb29yZCwgOSkpIHtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCAtIDEpO1xuICAgICAgICBjaGVja1ZhbGlkQ29vcmQoY29vcmRzLCBibG9ja0Nvb3JkIC0gMTAgLSAxKTtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCAtIDEwKTtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCAtIDEwICsgMSk7XG4gICAgICAgIGNoZWNrVmFsaWRDb29yZChjb29yZHMsIGJsb2NrQ29vcmQgKyAxKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHN0YXJ0c1dpdGgoYmxvY2tDb29yZCwgOSksIGVuZHNXaXRoKGJsb2NrQ29vcmQsIDApKSkge1xuICAgICAgICBjaGVja1ZhbGlkQ29vcmQoY29vcmRzLCBibG9ja0Nvb3JkIC0gMTApO1xuICAgICAgICBjaGVja1ZhbGlkQ29vcmQoY29vcmRzLCBibG9ja0Nvb3JkIC0gMTAgKyAxKTtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCArIDEpO1xuICAgIH1cbiAgICBlbHNlIGlmICgoc3RhcnRzV2l0aChibG9ja0Nvb3JkLCA5KSwgZW5kc1dpdGgoYmxvY2tDb29yZCwgOSkpKSB7XG4gICAgICAgIGNoZWNrVmFsaWRDb29yZChjb29yZHMsIGJsb2NrQ29vcmQgLSAxKTtcbiAgICAgICAgY2hlY2tWYWxpZENvb3JkKGNvb3JkcywgYmxvY2tDb29yZCAtIDEwIC0gMSk7XG4gICAgICAgIGNoZWNrVmFsaWRDb29yZChjb29yZHMsIGJsb2NrQ29vcmQgLSAxMCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVuZHNXaXRoKGJsb2NrQ29vcmQsIDkpKSB7XG4gICAgICAgIGNoZWNrVmFsaWRDb29yZChjb29yZHMsIGJsb2NrQ29vcmQgLSAxMCk7XG4gICAgICAgIGNoZWNrVmFsaWRDb29yZChjb29yZHMsIGJsb2NrQ29vcmQgLSAxMCAtIDEpO1xuICAgICAgICBjaGVja1ZhbGlkQ29vcmQoY29vcmRzLCBibG9ja0Nvb3JkIC0gMSk7XG4gICAgICAgIGNoZWNrVmFsaWRDb29yZChjb29yZHMsIGJsb2NrQ29vcmQgKyAxMCAtIDEpO1xuICAgICAgICBjaGVja1ZhbGlkQ29vcmQoY29vcmRzLCBibG9ja0Nvb3JkICsgMTApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAtMTsgaiA8IDI7ICsraikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkID0gYmxvY2tDb29yZCArIG9mZnNldCArIGo7XG4gICAgICAgICAgICAgICAgaWYgKGNvb3JkID49IDAgJiYgY29vcmQgPD0gOTkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5mcm9tKGJ1dHRvbnNbY29vcmRdLmNsYXNzTGlzdCkuaW5jbHVkZXMoJ21hcmtlZCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzLnB1c2goY29vcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCArPSAxMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmluZENvcnJlc3BvbmRpbmdCbG9ja3MoY29vcmRzKTtcbn1cbmZ1bmN0aW9uIGNoZWNrVmFsaWRDb29yZChjb29yZHMsIGNvb3JkKSB7XG4gICAgaWYgKGNvb3JkID49IDAgJiYgY29vcmQgPD0gOTkpIHtcbiAgICAgICAgaWYgKCFBcnJheS5mcm9tKGJ1dHRvbnNbY29vcmRdLmNsYXNzTGlzdCkuaW5jbHVkZXMoJ21hcmtlZCcpKVxuICAgICAgICAgICAgY29vcmRzLnB1c2goY29vcmQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvdW50Qm9tYnMoYmxvY2tzKSB7XG4gICAgbGV0IG51bSA9IDA7XG4gICAgQXJyYXkuZnJvbShibG9ja3MpLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgIGlmIChjaGVja0lmVGFyZ2V0SXNCb21iKGJsb2NrKSlcbiAgICAgICAgICAgICsrbnVtO1xuICAgIH0pO1xuICAgIHJldHVybiBudW07XG59XG5mdW5jdGlvbiBjaGVja0lmQmxvY2tzQXJlQm9tYnMoYmxvY2tzKSB7XG4gICAgY29uc3QgbnVtQm9tYnMgPSBjb3VudEJvbWJzKGJsb2Nrcyk7XG4gICAgaWYgKG51bUJvbWJzID4gMCkge1xuICAgICAgICByZXR1cm4gbnVtQm9tYnM7XG4gICAgfVxuICAgIGZvciAobGV0IGJsb2NrIG9mIGJsb2Nrcykge1xuICAgICAgICBjb25zdCBhbm90aGVyQmxvY2tzID0gZ2V0U3Vycm91bmRpbmdCbG9ja3MoYmxvY2spO1xuICAgICAgICBjaGVja0lmQmxvY2tzQXJlQm9tYnMoYW5vdGhlckJsb2Nrcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZENvcnJlc3BvbmRpbmdCbG9ja3MoY29vcmRzKSB7XG4gICAgY29uc3QgYmxvY2tzID0gW107XG4gICAgYnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29vcmRzLmZvckVhY2goKGNyZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhcnNlSW50KGJ0bi5kYXRhc2V0LmlkKSA9PT0gY3JkKVxuICAgICAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGJ0bik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBibG9ja3M7XG59XG5mdW5jdGlvbiBoYW5kbGVHYW1lT3ZlcigpIHtcbiAgICBib2FyZC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUJ1dHRvbkNsaWNrKTtcbiAgICByZXZlYWxCb21icygpO1xufVxuZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gICAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xufVxuZnVuY3Rpb24gZW5kc1dpdGgobnVtMSwgbnVtMikge1xuICAgIGlmIChudW0xICUgMTAgPT09IG51bTIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHN0YXJ0c1dpdGgobnVtMSwgbnVtMikge1xuICAgIGlmIChNYXRoLmZsb29yKG51bTEgLyAxMCkgPT09IG51bTIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNoZWNrSWZXb24oKSB7XG4gICAgbGV0IG92ZXIgPSB0cnVlO1xuICAgIGJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGlmICghYnV0dG9uLmRhdGFzZXQuYm9tYikge1xuICAgICAgICAgICAgb3ZlciA9IG92ZXIgJiYgYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnbWFya2VkJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb3Zlcjtcbn1cbmZ1bmN0aW9uIHJldmVhbEJvbWJzKCkge1xuICAgIGJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGlmIChidXR0b24uZGF0YXNldC5ib21iKSB7XG4gICAgICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM4ZjIzMjM4ZSc7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhpZGVCb21icygpIHtcbiAgICBidXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICBpZiAoYnV0dG9uLmRhdGFzZXQuYm9tYikge1xuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMmU0MjU4NWUnO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyB0ZXN0KDkwKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///607\n")}},__webpack_exports__={};__webpack_modules__[607]()})();